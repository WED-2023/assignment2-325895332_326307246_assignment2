<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Space Invaders Game</title>

  <link rel="stylesheet" href="styles.css" />
  <script src="main.js" defer></script>
  <script src="game.js" defer></script>
</head>

<body>
  <!-- ===== Header ===== -->
  <header>
    <div class="header-content">
      <img src="si_logo.png" alt="Space Invaders Logo" class="header-logo" />
      <h1>Space Invaders</h1>
    </div>
  </header>

  <!-- ===== Audio ===== -->
  <audio id="playerHitSound"  src="player_hit.wav"></audio>
  <audio id="targetHitSound"  src="target_hit.wav"></audio>
  <audio id="cannonFireSound" src="cannon_fire.wav"></audio>
  <audio id="bgMusic" preload="auto" loop>
    <source src="spaceinvaders1.mpeg" type="audio/mpeg" />
  </audio>

  <!-- ===== Nav ===== -->
  <nav>
    <ul>
      <li id="navWelcome"><a href="#" data-target="welcome">Welcome</a></li>
      <li id="navRegister"><a href="#" data-target="register">Register</a></li>
      <li id="navLogin"><a href="#" data-target="login">Login</a></li>
      <li id="configNav" style="display:none"><a href="#" data-target="config">Config</a></li>
      <li id="navLogout" style="display:none"><a href="#" id="logoutBtn">Logout</a></li>
      <li id="navAbout"><a href="#" id="openAbout">About</a></li>
    </ul>
  </nav>

  <!-- ===== Main screens ===== -->
  <main>
    <!-- Welcome -->
    <section id="welcome" class="screen active">
      <img src="si_logo.png" class="welcome-logo" />
      <h2>Welcome to Space Invaders!</h2>
      <p>Defend Earth from invading space aliens...</p>
      <div class="welcome-buttons">
        <button id="btnToRegister">Register</button>
        <button id="btnToLogin">Login</button>
      </div>
    </section>

    <!-- Register -->
    <section id="register" class="screen">
      <h2>Register</h2>
      <form id="registerForm">
        <input id="regUsername" placeholder="Username" required />
        <input type="password" id="regPassword" placeholder="Password" required />
        <input type="password" id="regConfirm"  placeholder="Confirm Password" required />
        <input id="firstName" placeholder="First Name" required />
        <input id="lastName"  placeholder="Last Name" required />
        <input type="email" id="email" placeholder="Email" required />
        <input type="date" id="birthdate" required />
        <button type="submit">Submit</button>
      </form>
      <div id="registerError" class="error"></div>
    </section>

    <!-- Login -->
    <section id="login" class="screen">
      <h2>Login</h2>
      <form id="loginForm">
        <input id="loginUsername" placeholder="Username" required />
        <input type="password" id="loginPassword" placeholder="Password" required />
        <button type="submit">Login</button>
      </form>
      <div id="loginError" class="error"></div>
    </section>

    <!-- Config -->
    <section id="config" class="screen">
      <h2>Configuration</h2>
      <form id="configForm">
        <label>Fire Key:
          <button id="fireKeyBtn" type="button">Space</button>
        </label>
        <label>Game Time (min):
          <input id="gameTime" type="number" value="2" min="2" />
        </label>
        <label>Ship Color:
          <input id="shipColor" type="color" value="#00ff00" />
        </label>
        <button type="submit">Start Game</button>
      </form>

      <div class="music-controls">
        <button id="musicToggle">Music: ON</button>
        <input id="musicVolume" type="range" min="0" max="1" step="0.1" value="0.3" />
      </div>
    </section>

    <!-- Game -->
    <section id="game" class="screen">
      <canvas id="gameCanvas" width="800" height="600"></canvas>
      <div id="hud">
        <span id="score">Score: 0</span>
        <span id="lives">Lives: 3</span>
        <span id="timer">Time: 120</span>
        <button id="newGameButton">New Game</button>
      </div>
      <div id="highscores" class="hidden"></div>
    </section>
  </main>

  <!-- ===== About – modal dialog ===== -->
  <div id="aboutModal" class="modal hidden" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button id="aboutClose" class="close-btn" aria-label="Close">✕</button>
      <h2>About This Project</h2>
      <p><strong>Submitted by:</strong> Shahar Navian &amp; Shachaf Har Tsvi </p>
      <p><strong>Template used:</strong> We didn't use</p>
      <p><strong>jQuery plugins:</strong> we didn't used</p>
      <p><strong>Main challenges:</strong></p>
      <ul>
        <li>Synchronising custom UI with canvas game loop</li>
        <li>Managing audio volumes &amp; user preferences</li>
        <li>Diagonal-bullet maths &amp; collision tuning</li>
      </ul>
    </div>
  </div>

    <!-- ===== Footer ===== -->
    <footer>
      <p>
        Technical support:&nbsp;
        <a href="mailto:navians@psot.bgu.ac.il">navians@psot.bgu.ac.il</a>
      </p>
    </footer>
  </body>
  </html>

